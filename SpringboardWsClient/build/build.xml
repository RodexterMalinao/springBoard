<?xml version="1.0" encoding="UTF-8"?>
<!-- WARNING: Eclipse autogenerated file. 
              Any modifications will be overwritten.
              Please edit build-user.xml instead.
-->
<project name="(15) Springboard WebService Client" default="buildAll" basedir=".">
	<property file="../../SpringboardWsClient/build/properties/project.properties"/>

	<taskdef name="wsimport" classname="com.sun.tools.ws.ant.WsImport">
		  <classpath>
		    <fileset dir="${SpringboardWsClient.local.lib.dir}/jaxws-tools">
		      <include name="**/*.jar"/>
		    </fileset>
		  </classpath>
	  </taskdef>
	
	<taskdef name="generateXmlbean" classname="org.apache.xmlbeans.impl.tool.XMLBean">
	  <classpath>
	    <fileset dir="${SpringboardWsClient.local.lib.dir}/xmlBeans">
	      <include name="**/*.jar"/>
	    </fileset>
	  </classpath>
	</taskdef>
	
	<property file="./properties/project.properties"/>
	<path id="project.classpath">
	    <fileset dir="${SpringboardWsClient.local.lib.dir}">
	      <include name="**/*.jar"/>
	    </fileset>
    </path>
	
	<patternset id="spring.webmvc.packages">
		<include name="META-INF/*.tld"/>
	</patternset>

	
	<target name="buildAll" depends="getRequiredFiles, build" />
	
	<target name="getRequiredFiles" depends="clean, init">
	</target>
	
    <target name="init">
        <mkdir dir="${SpringboardWsClient.local.lib.dir}"/>
        <mkdir dir="${SpringboardWsClient.local.class.dir}"/>
		<mkdir dir="${SpringboardWsClient.local.output.dir}"/>
    </target>
	
    <target name="clean">
		<delete dir="${SpringboardWsClient.local.class.dir}"/>
		<delete dir="${SpringboardWsClient.local.output.dir}"/>
    </target>
	
    <target name="build" depends="getRequiredFiles, genWsClient, genXmlBeans">
        <echo message="${ant.project.name}: ${ant.file}"/>
        <javac destdir="${SpringboardWsClient.local.class.dir}" debug="on" includeantruntime="false">
            <src path="${SpringboardWsClient.local.src.dir}"/>
        	<exclude name="**/test/**"/>
        	<classpath refid="project.classpath"/>
        </javac>

    	<jar destfile="${SpringboardWsClient.local.output.dir}/${SpringboardWsClient.local.output.jar.name}">
            <fileset dir="${SpringboardWsClient.local.class.dir}" />
        </jar>
    </target>

	<target name="genWsClient">

	<mkdir dir="${SpringboardWsClient.local.src.dir}"/>
        <mkdir dir="${SpringboardWsClient.local.class.dir}"/>
		
		<echo message="Generate WS Client - ${SpringboardWsClient.local.wsdl.dir}/CustProfile.wsdl"/>
		<delete dir="${SpringboardWsClient.local.src.dir}/com/pccw/custProfileGateway/custProfile"/>
		<wsimport
			keep="true"
			sourcedestdir="${SpringboardWsClient.local.src.dir}"
			destdir="${SpringboardWsClient.local.class.dir}"
			wsdl="${SpringboardWsClient.local.wsdl.dir}/CustProfile.wsdl"
			package="com.pccw.custProfileGateway.custProfile" />
		
		<echo message="Generate WS Client - ${SpringboardWsClient.local.wsdl.dir}/AcctInfo.wsdl"/>
		<delete dir="${SpringboardWsClient.local.src.dir}/com/pccw/custProfileGateway/acctInfo"/>
		<wsimport
			keep="true"
			sourcedestdir="${SpringboardWsClient.local.src.dir}"
			destdir="${SpringboardWsClient.local.class.dir}"
			wsdl="${SpringboardWsClient.local.wsdl.dir}/AcctInfo.wsdl"
			package="com.pccw.custProfileGateway.acctInfo" />

		<echo message="Generate WS Client - ${SpringboardWsClient.local.wsdl.dir}/ServiceProf.wsdl"/>
		<delete dir="${SpringboardWsClient.local.src.dir}/com/pccw/custProfileGateway/serviceProf"/>
		<wsimport
			keep="true"
			sourcedestdir="${SpringboardWsClient.local.src.dir}"
			destdir="${SpringboardWsClient.local.class.dir}"
			wsdl="${SpringboardWsClient.local.wsdl.dir}/ServiceProf.wsdl"
			package="com.pccw.custProfileGateway.serviceProf" />
		
		<echo message="Generate WS Client - ${SpringboardWsClient.local.wsdl.dir}/UpdateSRD.wsdl"/>
		<delete dir="${SpringboardWsClient.local.src.dir}/com/pccw/updateSRD"/>
		<wsimport
			keep="true"
			sourcedestdir="${SpringboardWsClient.local.src.dir}"
			destdir="${SpringboardWsClient.local.class.dir}"
			wsdl="${SpringboardWsClient.local.wsdl.dir}/UpdateSRD.wsdl"
			package="com.pccw.updateSRD" />
		
		<echo message="Generate WS Client - ${SpringboardWsClient.local.wsdl.dir}/CancelOrder.wsdl"/>
		<delete dir="${SpringboardWsClient.local.src.dir}/com/pccw/cancelOrder"/>
		<wsimport
			keep="true"
			sourcedestdir="${SpringboardWsClient.local.src.dir}"
			destdir="${SpringboardWsClient.local.class.dir}"
			wsdl="${SpringboardWsClient.local.wsdl.dir}/CancelOrder.wsdl"
			package="com.pccw.cancelOrder" />
		
		<echo message="Generate WS Client - ${SpringboardWsClient.local.wsdl.dir}/AppendOrdRmk.wsdl"/>
		<delete dir="${SpringboardWsClient.local.src.dir}/com/pccw/appendOrdRmk"/>
		<wsimport
			keep="true"
			sourcedestdir="${SpringboardWsClient.local.src.dir}"
			destdir="${SpringboardWsClient.local.class.dir}"
			wsdl="${SpringboardWsClient.local.wsdl.dir}/AppendOrdRmk.wsdl"
			package="com.pccw.appendOrdRmk" />
		
		<echo message="Generate WS Client - ${SpringboardWsClient.local.wsdl.dir}/PposGatewayEdgePos.wsdl"/>
		<delete dir="${SpringboardWsClient.local.src.dir}/com/pccw/pposGateway/edgePos"/>
		<wsimport
			keep="true"
			sourcedestdir="${SpringboardWsClient.local.src.dir}"
			destdir="${SpringboardWsClient.local.class.dir}"
			wsdl="${SpringboardWsClient.local.wsdl.dir}/PposGatewayEdgePos.wsdl"
			package="com.pccw.pposGateway.edgePos" />
		
		<echo message="Generate WS Client - ${SpringboardWsClient.local.wsdl.dir}/OrderInformation.wsdl"/>
		<delete dir="${SpringboardWsClient.local.src.dir}/com/pccw/dwfmGateway/orderInformation"/>
		<wsimport
			keep="true"
			sourcedestdir="${SpringboardWsClient.local.src.dir}"
			destdir="${SpringboardWsClient.local.class.dir}"
			wsdl="${SpringboardWsClient.local.wsdl.dir}/OrderInformation.wsdl"
		    package="com.pccw.dwfmGateway.orderInformation" />
	</target>
	
	<target name="genXmlBeans">
		<delete dir="${SpringboardWsClient.local.src.dir}/noNamespace"/>
		
		<echo message="Generate xmlBean - ${SpringboardWsClient.local.schema.dir}/orderRegInfo/OrderRegInfo.xsd"/>
		<generateXmlbean schema="${SpringboardWsClient.local.schema.dir}/orderRegInfo/OrderRegInfo.xsd"
			srconly="true" 
			srcgendir="${SpringboardWsClient.local.src.dir}"
			classgendir="${SpringboardWsClient.local.class.dir}"
		/>
  
		<echo message="Generate xmlBean - ${SpringboardWsClient.local.schema.dir}/pposSalesMemo/SALES_H.xsd"/>
		<generateXmlbean schema="${SpringboardWsClient.local.schema.dir}/pposSalesMemo/SALES_H.xsd"
			srconly="true" 
			srcgendir="${SpringboardWsClient.local.src.dir}"
			classgendir="${SpringboardWsClient.local.class.dir}"
		/>

		<echo message="Generate xmlBean - ${SpringboardWsClient.local.schema.dir}/pposSalesMemo/SALES_H_CU.xsd"/>
		<generateXmlbean schema="${SpringboardWsClient.local.schema.dir}/pposSalesMemo/SALES_H_CU.xsd"
			srconly="true" 
			srcgendir="${SpringboardWsClient.local.src.dir}"
			classgendir="${SpringboardWsClient.local.class.dir}"
		/>

		<echo message="Generate xmlBean - ${SpringboardWsClient.local.schema.dir}/pposSalesMemo/SALES_T.xsd"/>
		<generateXmlbean schema="${SpringboardWsClient.local.schema.dir}/pposSalesMemo/SALES_T.xsd"
			srconly="true" 
			srcgendir="${SpringboardWsClient.local.src.dir}"
			classgendir="${SpringboardWsClient.local.class.dir}"
		/>
		
		<echo message="Generate xmlBean - ${SpringboardWsClient.local.schema.dir}/pposSalesMemo/SALES_D.xsd"/>
		<generateXmlbean schema="${SpringboardWsClient.local.schema.dir}/pposSalesMemo/SALES_D.xsd"
			srconly="true" 
			srcgendir="${SpringboardWsClient.local.src.dir}"
			classgendir="${SpringboardWsClient.local.class.dir}"
		/>
			
		<echo message="Generate xmlBean - ${SpringboardWsClient.local.schema.dir}/pposSalesMemo/SALES_COM.xsd"/>
		<generateXmlbean schema="${SpringboardWsClient.local.schema.dir}/pposSalesMemo/SALES_COM.xsd"
			srconly="true" 
			srcgendir="${SpringboardWsClient.local.src.dir}"
			classgendir="${SpringboardWsClient.local.class.dir}"
		/>		
	</target>
</project>
